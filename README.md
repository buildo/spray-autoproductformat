Macro-based json format generator for spray-json

Based upon @guersam's https://gist.github.com/guersam/5940848
